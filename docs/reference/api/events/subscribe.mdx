---
title: Subscribe to Events
---

Resources that can subscribe to a topic, such as [functions](/docs/intro/concepts/functions) and containers provide a `triggers` property defining their triggers. Adding a new `topics` object under `triggers`, followed by the name of the topic(s) to subscribe to will set up a subscription between the resource and the topic(s). In the case of functions, this causes the function to be invoked each time a new event is published to the topic. The function will receive a trigger with the event being provided as its payload. This is a useful mechanism when one service needs to communicate with another in order to have the second service perform some work.

```yaml
topics:
  # A topic for events about newly registered users
  user-registered: {}

functions:
  # Registers new users and publishes an event
  create-user:
    handler: functions/user/register.ts
  # Subscribes to all new user registrations and sends them a welcome email
  welcome-user:
    handler: functions/user/welcome.ts
    triggers:
      topics:
        - user-registered
```

## Idempotent Subscribers

Since Nitric Events are implemented using technologies that ensure [at-least-once delivery](./#at-least-once-delivery), your subscribers should typically be [idempotent](https://en.wikipedia.org/wiki/Idempotence#Computer_science_meaning). Every Event provides a unique `ID`, which is useful when implementing these patterns. Persisting the event id, alongside the results of processing the event, allows your application to check whether the id is already present before reprocessing duplicates.

## Registering an event handler

Nitrics FaaS framework comes with a simple method for registering handlers for incoming events:

<CodeExamples
  languages={[
	{
		label: "Node",
		value: "node"
	},
	{
		label: "Python",
		value: "python"
	},
	{
		label: "Java",
		value: "java"
	},
	{
		label: "Go",
		value: "go"
	}
	]}
	defaultLang="node"
>

<CodeSnippet snippet="nitrictech/node-sdk/examples/faas/events.ts" />

<CodeSnippet snippet="nitrictech/python-sdk/examples/faas/events.py" />

<CodeSnippet snippet="nitrictech/java-sdk/examples/src/main/java/examples/faas/Events.java" />

<CodeSnippet snippet="nitrictech/go-sdk/examples/faas/events.go" />

</CodeExamples>

### Registering event listeners for HTTP frameworks

When operating in as a HTTP proxy the nitric membrane will forward events it receives to `/subscriptions/{topic_name}`. So adding a handler for events is as simple as registering a route for this path.
