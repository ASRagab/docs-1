Nitric provides resources and SDK clients for secure object storage.
This is typically used to read and write items such as static website content, images, files and other binary data.

### Key concepts

- **Buckets** are named data stores which contain stored objects.
- **Accessors** is the name used for readers and writers of object data from buckets.

## Defining Buckets

Buckets are a top-level resource defined in the stack definition. Before reading or writing objects you can add a bucket to the `nitric.yaml` or equivalent:

```yaml
buckets:
	my-bucket: {}
```

## Setup Accessors

> Coming Soon: The capability to lock down readers/writers of buckets within a stack

## Usage

Using one of the provided Nitric SDKs for your language is the easiest way to work with buckets.

### Writing objects

To write an object use a `StorageClient` to `write` an object to a bucket:

<CodeExamples 
	languages={[
	{
		label: "Node",
		value: "node"
	},
	{
		label: "Python",
		value: "python"
	},
	{
		label: "Java",
		value: "java"
	},
	{
		label: "Go",
		value: "go"
	},
	{
		label: "PHP",
		value: "php"
	},
	{
		label: "C#",
		value: "c-sharp"
	}
	]}
	defaultLang="node"
>

<CodeSnippet snippet="nitrictech/node-sdk/examples/storage/write.ts" />

<CodeSnippet snippet="nitrictech/python-sdk/examples/storage/write.py" />

<CodeExample lang="java">

```java
import io.nitric.api.storage.Storage;
...
var bucket = Storage.bucket("my-bucket");
bucket.file("/path/to/file").write("Hello World".getBytes("utf-8"));

```

</CodeExample>

<CodeSnippet snippet="nitrictech/go-sdk/examples/storage/write.go" />

<CodeExample lang="php">

```php
use Nitric\Api\Storage;

$storage = new Storage();

// Create a reference to the bucket
$bucket = $storage->bucket('my-bucket');

// Create a new file with contents
$bucket->file("some/file.txt")->write("file contents");
```

</CodeExample>

<CodeSnippet snippet="nitrictech/dotnet-sdk/examples/storage/Write.cs" />

</CodeExamples>

### Reading objects

To retrieve an object use a `StorageClient` to `read` an object from a bucket:

<CodeExamples 
	languages={[
	{
		label: "Node.js",
		value: "node"
	},
	{
		label: "Python",
		value: "python"
	},
	{
		label: "Java",
		value: "java"
	},
	{
		label: "Go",
		value: "go"
	},
	{
		label: "PHP",
		value: "php"
	},
	{
		label: "C#",
		value: "c-sharp"
	}
	]}
	defaultLang="node"
>

<CodeSnippet snippet="nitrictech/node-sdk/examples/storage/read.ts" />

<CodeSnippet snippet="nitrictech/python-sdk/examples/storage/read.py" />

<CodeExample lang="java">

```java
import io.nitric.api.storage.Storage;

...

var bucket = Storage.bucket("my-bucket");
var file = bucket.file("/path/to/file").read();
```

</CodeExample>

<CodeSnippet snippet="nitrictech/go-sdk/examples/storage/read.go" />

<CodeExample lang="php">

```php
use Nitric\Api\Storage;

$storage = new Storage();

// Create a reference to the bucket
$bucket = $storage->bucket('my-bucket');

// Read contents from a file
$contents = $bucket->file("some/file.txt")->read();
```

</CodeExample>

<CodeSnippet snippet="nitrictech/dotnet-sdk/examples/storage/Read.cs" />

</CodeExamples>

### Deleting objects

To delete an object use a `StorageClient` to `delete` an object from a bucket:

<CodeExamples 
	languages={[
	{
		label: "Node.js",
		value: "node"
	},
	{
		label: "Python",
		value: "python"
	},
	{
		label: "Java",
		value: "java"
	},
	{
		label: "Go",
		value: "go"
	},
	{
		label: "PHP",
		value: "php"
	},
	{
		label: "C#",
		value: "c-sharp"
	}
	]}
	defaultLang="node"
>

<CodeSnippet snippet="nitrictech/node-sdk/examples/storage/delete.ts" />

<CodeSnippet snippet="nitrictech/python-sdk/examples/storage/delete.py" />

<CodeExample lang="java">

```java
import io.nitric.api.storage.StorageClient;

...

var bucket = Storage.bucket("my-bucket");
bucket.file("/path/to/file").delete();
```

</CodeExample>

<CodeSnippet snippet="nitrictech/go-sdk/examples/storage/delete.go" />

<CodeExample lang="php">

```php
use Nitric\Api\Storage;

$storage = new Storage();

// Create a reference to the bucket
$bucket = $storage->bucket('my-bucket');

// Delete a file from the bucket
$bucket->file("some/file.txt")->delete();
```

</CodeExample>

<CodeExample lang="c-sharp">

<CodeSnippet snippet="nitrictech/dotnet-sdk/examples/storage/Delete.cs" />

</CodeExample>

</CodeExamples>
